{"ast":null,"code":"var _jsxFileName = \"D:\\\\SwitMe\\\\FrontEnd\\\\src\\\\components\\\\Chat_list.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport \"../assets/chat.css\";\nimport logo from \"../assets/logo.png\";\nimport Title from \"../components/Title\";\nimport Chat from \"./Chat\";\nimport { getChatlist } from \"../_actions/actions\";\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Col = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n_c = Col;\nconst List = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n_c2 = List;\nconst Study = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  /* background-color: #56be9c; */\n  border-bottom: #56be9c solid 1px;\n  height: 108px;\n  :hover {\n    background-color: #56be9c;\n  }\n`;\n_c3 = Study;\n\nconst Chat_list = props => {\n  _s();\n\n  // 열기, 닫기, 모달 헤더 텍스트를 부모로부터 받아옴\n  const {\n    setinitial,\n    open,\n    close,\n    openstate2,\n    open2,\n    close2,\n    header\n  } = props;\n  const dispatch = useDispatch();\n  const user_id = window.localStorage.getItem(\"id\");\n  const [studies, setStudies] = useState([{\n    message: \"\",\n    notification: \"\",\n    other_user: \"\",\n    room_idx: \"\",\n    room_name: \"\",\n    user_image: \"\"\n  }]);\n  useEffect(() => {\n    dispatch(getChatlist(user_id)).then(response => {\n      if (response.payload) {\n        console.log(response);\n        setStudies(response.payload);\n        let arr = new Array(response.payload.length);\n        arr.fill(false);\n        setinitial(arr);\n      } else {\n        console.log(\"채팅 목록 불러오기 에러\");\n      }\n    });\n    let arr = new Array(5);\n    arr.fill(false);\n    setinitial(arr);\n  }, [open]);\n  return (\n    /*#__PURE__*/\n    // 모달이 열릴때 openModal 클래스가 생성된다.\n    _jsxDEV(\"div\", {\n      className: open ? \"openModal modal\" : \"modal\",\n      children: open ? /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          style: {\n            height: \"95px\",\n            alignItems: \"center\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            boxShadow: \"0px 5px 15px grey\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              style: {\n                width: \"136px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), header, /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close\",\n            onClick: close,\n            children: [\" \", \"\\xD7\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: [props.children, /*#__PURE__*/_jsxDEV(List, {\n            children: studies.map((study, i) => {\n              if (i > 4) return false;\n              return /*#__PURE__*/_jsxDEV(Study, {\n                onClick: !openstate2[i] ? () => open2(i) : () => {},\n                children: [/*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: openstate2[i] ? /*#__PURE__*/_jsxDEV(Chat, {\n                    open: openstate2[i],\n                    close: () => close2(i),\n                    header: \"\",\n                    other_user: study.other_user,\n                    room_idx: study.room_idx\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"study profile\",\n                  src: require(\"../assets/circle.png\").default,\n                  style: {\n                    marginLeft: \"30px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: \"300px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Title, {\n                      size: \"20\",\n                      weight: \"400\",\n                      children: study.other_user\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: study.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"unread\",\n                    src: require(\"../assets/circle2.png\").default,\n                    style: {\n                      marginRight: \"35px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: \"67px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this)\n  );\n};\n\n_s(Chat_list, \"eAy0FudrKXuC8sXLR5B6uSGnpRI=\", false, function () {\n  return [useDispatch];\n});\n\n_c4 = Chat_list;\nexport default Chat_list;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Col\");\n$RefreshReg$(_c2, \"List\");\n$RefreshReg$(_c3, \"Study\");\n$RefreshReg$(_c4, \"Chat_list\");","map":{"version":3,"sources":["D:/SwitMe/FrontEnd/src/components/Chat_list.js"],"names":["React","useState","useEffect","styled","logo","Title","Chat","getChatlist","useDispatch","Col","div","List","Study","Chat_list","props","setinitial","open","close","openstate2","open2","close2","header","dispatch","user_id","window","localStorage","getItem","studies","setStudies","message","notification","other_user","room_idx","room_name","user_image","then","response","payload","console","log","arr","Array","length","fill","height","alignItems","display","justifyContent","boxShadow","width","children","map","study","i","require","default","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport \"../assets/chat.css\";\r\nimport logo from \"../assets/logo.png\";\r\nimport Title from \"../components/Title\";\r\nimport Chat from \"./Chat\";\r\nimport { getChatlist } from \"../_actions/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Col = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst List = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Study = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  /* background-color: #56be9c; */\r\n  border-bottom: #56be9c solid 1px;\r\n  height: 108px;\r\n  :hover {\r\n    background-color: #56be9c;\r\n  }\r\n`;\r\n\r\nconst Chat_list = (props) => {\r\n  // 열기, 닫기, 모달 헤더 텍스트를 부모로부터 받아옴\r\n  const { setinitial, open, close, openstate2, open2, close2, header } = props;\r\n  const dispatch = useDispatch();\r\n  const user_id = window.localStorage.getItem(\"id\");\r\n\r\n  const [studies, setStudies] = useState([\r\n    {\r\n      message: \"\",\r\n      notification: \"\",\r\n      other_user: \"\",\r\n      room_idx: \"\",\r\n      room_name: \"\",\r\n      user_image: \"\",\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getChatlist(user_id)).then((response) => {\r\n      if (response.payload) {\r\n        console.log(response);\r\n        setStudies(response.payload);\r\n        let arr = new Array(response.payload.length);\r\n        arr.fill(false);\r\n        setinitial(arr);\r\n      } else {\r\n        console.log(\"채팅 목록 불러오기 에러\");\r\n      }\r\n    });\r\n    let arr = new Array(5);\r\n    arr.fill(false);\r\n    setinitial(arr);\r\n  }, [open]);\r\n\r\n  return (\r\n    // 모달이 열릴때 openModal 클래스가 생성된다.\r\n    <div className={open ? \"openModal modal\" : \"modal\"}>\r\n      {open ? (\r\n        <section>\r\n          <header\r\n            style={{\r\n              height: \"95px\",\r\n              alignItems: \"center\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              boxShadow: \"0px 5px 15px grey\",\r\n            }}\r\n          >\r\n            <div>\r\n              <img src={logo} style={{ width: \"136px\" }} />\r\n            </div>\r\n            {header}\r\n            <button className=\"close\" onClick={close}>\r\n              {\" \"}\r\n              &times;{\" \"}\r\n            </button>\r\n          </header>\r\n          <main>\r\n            {props.children}\r\n            <List>\r\n              {studies.map((study, i) => {\r\n                if (i > 4) return false;\r\n                return (\r\n                  <Study\r\n                    key={i}\r\n                    onClick={!openstate2[i] ? () => open2(i) : () => {}}\r\n                  >\r\n                    <React.Fragment>\r\n                      {openstate2[i] ? (\r\n                        <Chat\r\n                          open={openstate2[i]}\r\n                          close={() => close2(i)}\r\n                          header=\"\"\r\n                          other_user={study.other_user}\r\n                          room_idx={study.room_idx}\r\n                        ></Chat>\r\n                      ) : (\r\n                        <></>\r\n                      )}\r\n                    </React.Fragment>\r\n                    <img\r\n                      alt=\"study profile\"\r\n                      src={require(\"../assets/circle.png\").default}\r\n                      style={{ marginLeft: \"30px\" }}\r\n                    />\r\n                    <Col>\r\n                      <div style={{ width: \"300px\" }}>\r\n                        <Title size=\"20\" weight=\"400\">\r\n                          {study.other_user}\r\n                        </Title>\r\n                      </div>\r\n                      <div>{study.message}</div>\r\n                    </Col>\r\n                    <div>\r\n                      <img\r\n                        alt=\"unread\"\r\n                        src={require(\"../assets/circle2.png\").default}\r\n                        style={{ marginRight: \"35px\" }}\r\n                      />\r\n                    </div>\r\n                  </Study>\r\n                );\r\n              })}\r\n            </List>\r\n          </main>\r\n\r\n          <footer>\r\n            <div style={{ height: \"67px\" }}></div>\r\n            {/* <button className=\"close\" onClick={close}>\r\n              {\" \"}\r\n              close{\" \"}\r\n            </button> */}\r\n          </footer>\r\n        </section>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat_list;\r\n"]},"metadata":{},"sourceType":"module"}