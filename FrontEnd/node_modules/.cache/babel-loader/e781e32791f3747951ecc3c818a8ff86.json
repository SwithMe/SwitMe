{"ast":null,"code":"import _regeneratorRuntime from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"D:/SwitMe/FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useState}from\"react\";import styled from\"styled-components\";import Input2 from\"../components/Input2\";import Button from\"../components/Button\";import logo from\"../assets/logo.png\";import{login}from\"../_actions/actions\";import{useDispatch}from\"react-redux\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  height: 90vh;\\n\"])));var Items=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: space-around;\\n  height: 540px;\\n\"])));var TextBox=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: space-between;\\n  width: 80%;\\n  color: #064538;\\n\"])));var Login=function Login(){var dispatch=useDispatch();var history=useHistory();var _useState=useState({email:\"\",pw:\"\"}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onInputChange=function onInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var formSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();console.log(user);dispatch(login(user)).then(function(response){if(response){console.log(\"로그인 성공\");console.log(response.payload);window.localStorage.setItem(\"id\",response.payload);window.localStorage.setItem(\"isAuth\",\"true\");window.location.replace(\"/\");}else{console.log(response);alert(\"로그인 오류\");}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function formSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:formSubmit,children:/*#__PURE__*/_jsxs(Items,{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\\uB85C\\uACE0\",src:logo,style:{marginBottom:\"1rem\",cursor:\"pointer\"},onClick:function onClick(){return history.push(\"/\");}}),/*#__PURE__*/_jsx(Input2,{name:\"email\",placeholder:\"E-mail\",width:\"29rem\",value:user.id,onChange:onInputChange}),/*#__PURE__*/_jsx(Input2,{name:\"pw\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",width:\"29rem\",value:user.password,onChange:onInputChange}),/*#__PURE__*/_jsx(Button,{name:\"\\uB85C\\uADF8\\uC778\",width:\"29rem\",color:\"#56BE9C\",type:\"submit\"}),/*#__PURE__*/_jsxs(TextBox,{children:[/*#__PURE__*/_jsx(\"div\",{style:{cursor:\"pointer\"},onClick:function onClick(){return history.push(\"/findemail\");},children:\"\\uC774\\uBA54\\uC77C / \\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:\"pointer\"},onClick:function onClick(){return history.push(\"/signup\");},children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]})})});};export default Login;","map":{"version":3,"sources":["D:/SwitMe/FrontEnd/src/pages/Login.js"],"names":["React","useState","styled","Input2","Button","logo","login","useDispatch","useHistory","Wrapper","div","Items","TextBox","Login","dispatch","history","email","pw","user","setUser","onInputChange","e","target","name","value","formSubmit","evt","preventDefault","console","log","then","response","payload","window","localStorage","setItem","location","replace","alert","marginBottom","cursor","push","id","password"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Input2 from \"../components/Input2\";\r\nimport Button from \"../components/Button\";\r\nimport logo from \"../assets/logo.png\";\r\nimport { login } from \"../_actions/actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 90vh;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 540px;\r\n`;\r\n\r\nconst TextBox = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 80%;\r\n  color: #064538;\r\n`;\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [user, setUser] = useState({\r\n    email: \"\",\r\n    pw: \"\",\r\n  });\r\n\r\n  const onInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  const formSubmit = async (evt) => {\r\n    evt.preventDefault();\r\n    console.log(user);\r\n    dispatch(login(user)).then((response) => {\r\n      if (response) {\r\n        console.log(\"로그인 성공\");\r\n        console.log(response.payload);\r\n        window.localStorage.setItem(\"id\", response.payload);\r\n        window.localStorage.setItem(\"isAuth\", \"true\");\r\n        window.location.replace(\"/\");\r\n      } else {\r\n        console.log(response);\r\n        alert(\"로그인 오류\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <form onSubmit={formSubmit}>\r\n        <Items>\r\n          <img\r\n            alt=\"로고\"\r\n            src={logo}\r\n            style={{ marginBottom: \"1rem\", cursor: \"pointer\" }}\r\n            onClick={() => history.push(\"/\")}\r\n          ></img>\r\n          <Input2\r\n            name=\"email\"\r\n            placeholder=\"E-mail\"\r\n            width=\"29rem\"\r\n            value={user.id}\r\n            onChange={onInputChange}\r\n          ></Input2>\r\n          <Input2\r\n            name=\"pw\"\r\n            type=\"password\"\r\n            placeholder=\"비밀번호\"\r\n            width=\"29rem\"\r\n            value={user.password}\r\n            onChange={onInputChange}\r\n          ></Input2>\r\n          <Button\r\n            name=\"로그인\"\r\n            width=\"29rem\"\r\n            color=\"#56BE9C\"\r\n            type=\"submit\"\r\n          ></Button>\r\n          <TextBox>\r\n            <div\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => history.push(\"/findemail\")}\r\n            >\r\n              이메일 / 비밀번호 찾기\r\n            </div>\r\n            <div\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => history.push(\"/signup\")}\r\n            >\r\n              회원가입\r\n            </div>\r\n          </TextBox>\r\n        </Items>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}